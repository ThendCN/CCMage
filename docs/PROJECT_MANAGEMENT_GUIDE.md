# é¡¹ç›®ç®¡ç†åŠŸèƒ½ä½¿ç”¨æŒ‡å—

> æœ¬æ–‡æ¡£ä»‹ç»é¡¹ç›®ç®¡ç†ç³»ç»Ÿæ–°å¢çš„ Todo ä»»åŠ¡ç®¡ç†å’Œå…¶ä»–é¡¹ç›®ç®¡ç†åŠŸèƒ½

## ğŸ“‹ åŠŸèƒ½æ¦‚è§ˆ

### æ ¸å¿ƒåŠŸèƒ½
- âœ… **Todo/ä»»åŠ¡ç®¡ç†** - åˆ›å»ºã€ç¼–è¾‘ã€åˆ é™¤é¡¹ç›®ä»»åŠ¡
- ğŸ¯ **é‡Œç¨‹ç¢‘ç®¡ç†** - è®¾ç½®é¡¹ç›®å…³é”®èŠ‚ç‚¹
- ğŸ·ï¸ **æ ‡ç­¾ç³»ç»Ÿ** - çµæ´»çš„ä»»åŠ¡åˆ†ç±»
- â±ï¸ **æ—¶é—´è¿½è¸ª** - è®°å½•ä»»åŠ¡å®é™…å·¥æ—¶
- ğŸ’¬ **è¯„è®ºåŠŸèƒ½** - ä»»åŠ¡åä½œè®¨è®º
- ğŸ“Š **é¡¹ç›®ç»Ÿè®¡** - å®æ—¶æŸ¥çœ‹é¡¹ç›®è¿›åº¦
- ğŸ“ **æ´»åŠ¨æ—¥å¿—** - è¿½è¸ªé¡¹ç›®æ‰€æœ‰å˜æ›´

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. æ‰“å¼€ä»»åŠ¡ç®¡ç†å™¨

åœ¨é¡¹ç›®å¡ç‰‡ä¸Šç‚¹å‡» **"ä»»åŠ¡ç®¡ç†"** æŒ‰é’®å³å¯æ‰“å¼€è¯¥é¡¹ç›®çš„ä»»åŠ¡ç®¡ç†ç•Œé¢ã€‚

### 2. åˆ›å»ºç¬¬ä¸€ä¸ªä»»åŠ¡

1. ç‚¹å‡» **"æ–°å»ºä»»åŠ¡"** æŒ‰é’®
2. å¡«å†™ä»»åŠ¡ä¿¡æ¯ï¼š
   - **æ ‡é¢˜** (å¿…å¡«)ï¼šç®€æ˜æ‰¼è¦çš„ä»»åŠ¡æè¿°
   - **æè¿°** (å¯é€‰)ï¼šè¯¦ç»†è¯´æ˜ä»»åŠ¡å†…å®¹
   - **ä¼˜å…ˆçº§**ï¼šä½/ä¸­/é«˜/ç´§æ€¥
   - **ç±»å‹**ï¼šä»»åŠ¡/Bug/æ–°åŠŸèƒ½/æ”¹è¿›
   - **é¢„ä¼°å·¥æ—¶**ï¼šè®¡åˆ’èŠ±è´¹çš„å°æ—¶æ•°
   - **æˆªæ­¢æ—¥æœŸ**ï¼šä»»åŠ¡çš„ deadline
3. ç‚¹å‡» **"åˆ›å»º"** ä¿å­˜

### 3. ç®¡ç†ä»»åŠ¡çŠ¶æ€

ä»»åŠ¡æœ‰å››ç§çŠ¶æ€ï¼Œç‚¹å‡»ä»»åŠ¡å·¦ä¾§çš„å›¾æ ‡å¯ä»¥å¿«é€Ÿåˆ‡æ¢ï¼š
- ğŸ”˜ **å¾…å¤„ç†** (Pending)
- ğŸ”µ **è¿›è¡Œä¸­** (In Progress)
- âœ… **å·²å®Œæˆ** (Completed)
- âŒ **å·²å–æ¶ˆ** (Cancelled)

çŠ¶æ€æµè½¬ï¼šå¾…å¤„ç† â†’ è¿›è¡Œä¸­ â†’ å·²å®Œæˆ â†’ å¾…å¤„ç† (å¾ªç¯)

## ğŸ“Š æ•°æ®åº“ç»“æ„

ç³»ç»Ÿä½¿ç”¨ SQLite æ•°æ®åº“æŒä¹…åŒ–å­˜å‚¨æ•°æ®ï¼Œä¸»è¦æ•°æ®è¡¨ï¼š

### Projects è¡¨
å­˜å‚¨é¡¹ç›®åŸºæœ¬ä¿¡æ¯ï¼Œä¸ `projects.json` è‡ªåŠ¨åŒæ­¥

### Todos è¡¨
ä»»åŠ¡æ ¸å¿ƒæ•°æ®ï¼š
- åŸºæœ¬ä¿¡æ¯ï¼šæ ‡é¢˜ã€æè¿°ã€çŠ¶æ€ã€ä¼˜å…ˆçº§ã€ç±»å‹
- æ—¶é—´ç®¡ç†ï¼šåˆ›å»ºæ—¶é—´ã€æ›´æ–°æ—¶é—´ã€æˆªæ­¢æ—¥æœŸã€å®Œæˆæ—¶é—´
- å·¥æ—¶è¿½è¸ªï¼šé¢„ä¼°å·¥æ—¶ã€å®é™…å·¥æ—¶
- å…³è”å…³ç³»ï¼šæ‰€å±é¡¹ç›®ã€è´Ÿè´£äººã€æ ‡ç­¾ã€çˆ¶ä»»åŠ¡

### Milestones è¡¨
é‡Œç¨‹ç¢‘æ•°æ®ï¼Œæ”¯æŒè®¾ç½®è¿›åº¦ç™¾åˆ†æ¯”

### Labels è¡¨
æ ‡ç­¾å®šä¹‰ï¼Œæ”¯æŒè‡ªå®šä¹‰é¢œè‰²

### Time Entries è¡¨
æ—¶é—´è®°å½•ï¼Œå¯å…³è”åˆ°å…·ä½“ä»»åŠ¡

### Comments è¡¨
ä»»åŠ¡è¯„è®ºï¼Œæ”¯æŒå¤šäººåä½œè®¨è®º

### Activity Logs è¡¨
è‡ªåŠ¨è®°å½•æ‰€æœ‰æ“ä½œï¼Œç”¨äºå®¡è®¡å’Œå›æº¯

## ğŸ› ï¸ API ä½¿ç”¨

### Todo ç›¸å…³ API

#### è·å–é¡¹ç›®çš„æ‰€æœ‰ Todos
```http
GET /api/projects/:name/todos?status=pending&priority=high&type=bug
```

**æŸ¥è¯¢å‚æ•°**ï¼š
- `status`: pending | in_progress | completed | cancelled
- `priority`: low | medium | high | urgent
- `type`: task | bug | feature | improvement

**å“åº”**ï¼š
```json
{
  "success": true,
  "data": [
    {
      "id": 1,
      "project_name": "my-project",
      "title": "ä¿®å¤ç™»å½• Bug",
      "description": "ç”¨æˆ·åé¦ˆç™»å½•æ—¶å¶å°”å¤±è´¥",
      "status": "in_progress",
      "priority": "high",
      "type": "bug",
      "due_date": "2025-12-01",
      "estimated_hours": 4,
      "actual_hours": 2.5,
      "labels": ["urgent", "bug"],
      "created_at": "2025-11-27T10:00:00Z",
      "updated_at": "2025-11-27T15:30:00Z"
    }
  ]
}
```

#### åˆ›å»º Todo
```http
POST /api/projects/:name/todos
Content-Type: application/json

{
  "title": "å®ç°ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½",
  "description": "æ”¯æŒé‚®ç®±å’Œæ‰‹æœºå·æ³¨å†Œ",
  "priority": "high",
  "type": "feature",
  "due_date": "2025-12-10",
  "estimated_hours": 8,
  "labels": ["feature", "urgent"]
}
```

#### æ›´æ–° Todo
```http
PUT /api/todos/:id
Content-Type: application/json

{
  "status": "completed",
  "actual_hours": 7.5
}
```

#### åˆ é™¤ Todo
```http
DELETE /api/todos/:id
```

### Milestone ç›¸å…³ API

#### è·å–é¡¹ç›®é‡Œç¨‹ç¢‘
```http
GET /api/projects/:name/milestones
```

#### åˆ›å»ºé‡Œç¨‹ç¢‘
```http
POST /api/projects/:name/milestones
Content-Type: application/json

{
  "title": "v1.0 å‘å¸ƒ",
  "description": "ç¬¬ä¸€ä¸ªæ­£å¼ç‰ˆæœ¬",
  "start_date": "2025-11-01",
  "due_date": "2025-12-31",
  "progress": 60
}
```

### æ—¶é—´è¿½è¸ª API

#### åˆ›å»ºæ—¶é—´è®°å½•
```http
POST /api/projects/:name/time-entries
Content-Type: application/json

{
  "todo_id": 1,
  "description": "ä¿®å¤ç™»å½• Bug",
  "duration": 2.5,
  "started_at": "2025-11-27T14:00:00Z",
  "ended_at": "2025-11-27T16:30:00Z"
}
```

#### è·å–ä»»åŠ¡çš„æ—¶é—´è®°å½•
```http
GET /api/todos/:id/time-entries
```

### ç»Ÿè®¡ API

#### è·å–é¡¹ç›®ç»Ÿè®¡
```http
GET /api/projects/:name/stats
```

**å“åº”**ï¼š
```json
{
  "success": true,
  "data": {
    "name": "my-project",
    "total_todos": 25,
    "completed_todos": 15,
    "in_progress_todos": 5,
    "pending_todos": 5,
    "total_milestones": 3,
    "completed_milestones": 1,
    "total_hours": 127.5
  }
}
```

#### è·å–æ´»åŠ¨æ—¥å¿—
```http
GET /api/projects/:name/activity?limit=50
```

## ğŸ¨ å‰ç«¯é›†æˆ

### åœ¨é¡¹ç›®å¡ç‰‡ä¸­ä½¿ç”¨

```tsx
import { TodoManager } from './components/TodoManager';

function ProjectCard({ projectName }) {
  const [showTodos, setShowTodos] = useState(false);

  return (
    <>
      <button onClick={() => setShowTodos(true)}>
        ä»»åŠ¡ç®¡ç†
      </button>

      {showTodos && (
        <TodoManager
          projectName={projectName}
          onClose={() => setShowTodos(false)}
        />
      )}
    </>
  );
}
```

## ğŸ“ˆ æœ€ä½³å®è·µ

### 1. ä»»åŠ¡ç®¡ç†
- **ä½¿ç”¨æ˜ç¡®çš„æ ‡é¢˜**ï¼šè®©å›¢é˜Ÿæˆå‘˜ä¸€çœ¼å°±èƒ½ç†è§£ä»»åŠ¡å†…å®¹
- **è®¾ç½®åˆç†çš„ä¼˜å…ˆçº§**ï¼šç´§æ€¥ä»»åŠ¡ä¸è¦å¤ªå¤šï¼Œä¿æŒèšç„¦
- **é¢„ä¼°å·¥æ—¶è¦ç°å®**ï¼šåŸºäºå†å²æ•°æ®ç»™å‡ºåˆç†é¢„ä¼°
- **åŠæ—¶æ›´æ–°çŠ¶æ€**ï¼šè®©é¡¹ç›®è¿›åº¦ä¸€ç›®äº†ç„¶

### 2. é‡Œç¨‹ç¢‘è§„åˆ’
- **é˜¶æ®µæ€§ç›®æ ‡**ï¼šå°†å¤§é¡¹ç›®æ‹†åˆ†ä¸ºå¤šä¸ªé‡Œç¨‹ç¢‘
- **è®¾ç½®è¿›åº¦æŒ‡æ ‡**ï¼šå®šæœŸæ›´æ–°é‡Œç¨‹ç¢‘å®Œæˆåº¦
- **æˆªæ­¢æ—¥æœŸç®¡ç†**ï¼šä¸ºæ¯ä¸ªé‡Œç¨‹ç¢‘è®¾å®šæ˜ç¡®çš„ deadline

### 3. æ ‡ç­¾ä½¿ç”¨
- **åˆ›å»ºç»Ÿä¸€æ ‡ç­¾ä½“ç³»**ï¼šå¦‚ frontend, backend, design, testing
- **é¢œè‰²ç¼–ç **ï¼šä¸ºä¸åŒç±»å‹çš„æ ‡ç­¾ä½¿ç”¨ä¸åŒé¢œè‰²
- **çµæ´»ç»„åˆ**ï¼šä¸€ä¸ªä»»åŠ¡å¯ä»¥æœ‰å¤šä¸ªæ ‡ç­¾

### 4. æ—¶é—´è¿½è¸ª
- **å®æ—¶è®°å½•**ï¼šå®Œæˆä»»åŠ¡åç«‹å³è®°å½•å®é™…å·¥æ—¶
- **ä¸ä»»åŠ¡å…³è”**ï¼šå°†æ—¶é—´è®°å½•å…³è”åˆ°å…·ä½“ä»»åŠ¡
- **å®šæœŸå¤ç›˜**ï¼šå¯¹æ¯”é¢„ä¼°å’Œå®é™…å·¥æ—¶ï¼Œä¼˜åŒ–æœªæ¥é¢„ä¼°

## ğŸ”§ é«˜çº§åŠŸèƒ½

### å­ä»»åŠ¡
é€šè¿‡è®¾ç½® `parent_id` å¯ä»¥åˆ›å»ºä»»åŠ¡å±‚çº§ï¼š
```json
{
  "title": "å®ç°æ”¯ä»˜åŠŸèƒ½ - å‰ç«¯ç•Œé¢",
  "parent_id": 123,
  "type": "task"
}
```

### ä»»åŠ¡æ’åº
ä½¿ç”¨æ‹–æ‹½æˆ– API è°ƒæ•´ä»»åŠ¡é¡ºåºï¼š
```http
PUT /api/projects/:name/todos/reorder
Content-Type: application/json

{
  "todoIds": [3, 1, 5, 2, 4]
}
```

### æ‰¹é‡æ“ä½œ
ç»“åˆç­›é€‰åŠŸèƒ½å®ç°æ‰¹é‡æ“ä½œåœºæ™¯

## ğŸ› æ•…éšœæ’æŸ¥

### æ•°æ®åº“æ–‡ä»¶ä½ç½®
```
backend/project-manager.db
```

### æŸ¥çœ‹æ•°æ®åº“
```bash
cd backend
sqlite3 project-manager.db

# æŸ¥çœ‹æ‰€æœ‰è¡¨
.tables

# æŸ¥çœ‹è¡¨ç»“æ„
.schema todos

# æŸ¥è¯¢æ•°æ®
SELECT * FROM todos WHERE project_name = 'my-project';
```

### é‡ç½®æ•°æ®åº“
```bash
cd backend
rm project-manager.db
# é‡å¯æœåŠ¡å™¨ä¼šè‡ªåŠ¨é‡æ–°åˆ›å»ºæ•°æ®åº“
npm run dev
```

## ğŸ“š ç›¸å…³æ–‡æ¡£

- **æ•°æ®åº“æ¨¡å¼**ï¼š`backend/database-schema.sql`
- **æ•°æ®åº“æœåŠ¡å±‚**ï¼š`backend/database.js`
- **API è·¯ç”±**ï¼š`backend/managementRoutes.js`
- **å‰ç«¯ç»„ä»¶**ï¼š`frontend/src/components/TodoManager.tsx`
- **ç±»å‹å®šä¹‰**ï¼š`frontend/src/types.ts`

## ğŸš€ æœªæ¥è®¡åˆ’

### çŸ­æœŸ (å·²å®ç°)
- âœ… Todo/ä»»åŠ¡ç®¡ç†
- âœ… é‡Œç¨‹ç¢‘ç®¡ç†
- âœ… æ ‡ç­¾ç³»ç»Ÿ
- âœ… æ—¶é—´è¿½è¸ª
- âœ… è¯„è®ºåŠŸèƒ½
- âœ… æ´»åŠ¨æ—¥å¿—

### ä¸­æœŸ (è§„åˆ’ä¸­)
- [ ] çœ‹æ¿è§†å›¾ (Kanban Board)
- [ ] ç”˜ç‰¹å›¾è§†å›¾ (Gantt Chart)
- [ ] å›¢é˜Ÿæˆå‘˜ç®¡ç†
- [ ] ä»»åŠ¡åˆ†é…å’Œæé†’
- [ ] æ•°æ®å¯¼å‡º (CSV/Excel)

### é•¿æœŸ (æ¢ç´¢ä¸­)
- [ ] ä¸ Git é›†æˆï¼ˆè‡ªåŠ¨å…³è” commitï¼‰
- [ ] CI/CD çŠ¶æ€ç›‘æ§
- [ ] é¡¹ç›®æŠ¥è¡¨å’Œåˆ†æ
- [ ] ç§»åŠ¨ç«¯é€‚é…

---

**æœ€åæ›´æ–°**: 2025-11-27
**ç‰ˆæœ¬**: v1.0.0
